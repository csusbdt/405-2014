---
layout: assignment
title: Code Assignment
---

<!--
<div class="csusbdt-video-btn">
  <a class="btn btn-success" role="button" target="_blank" href="http://youtu.be/ceU_XWS9aoc">Video</a>
</div>
-->

<h2>Overview</h2>

<p>
The purpose of this assignment is 
to practice applying the source code readability criteria in the syllabus.
This will help you get into the habit of following
patterns that improve the readability of your code.
</p>

<h2>Assignment folder</h2>

<p>
Create a directory named <em>code</em> 
in your repository to hold the work for this assignment. 
When you complete this assignment, 
the contents of this folder will be the following.
</p>

<ul>
<li>main.js</li>
</ul>

<h2>Instructions</h2>

<p>
The following code is a Node.js program that
prints the first 100 prime numbers.
Place this code in a file named <em>main.js</em>
and verify that it runs as expected.
</p>

<pre>
// This program prints the first 100 priime numbers.

// Return true if n is prime.
function isPrime(n) {
  for (var i = 2; i < n; ++i) {
  if (n % i==0) return false;
  }
  console.log(n);
  return true;

}

   var numberOfPrimesDeleted = 0;
var candidatePrime = 2;
var k = 0;

while (numberOfPrimesDeleted<100) {
&#9;if (isPrime(candidatePrime)) {
&#9;&#9;++numberOfPrimesDeleted;
&#9;}
&#9;// Increment candidatePrime.
&#9;++candidatePrime;
}
</pre>

<p>
The code given above does not satisfy the readability criteria
stated in the course syllabus.
For this assignment, you should modify <em>main.js</em> to resolve these issues.
When you are done, the resulting code should satisfy all
of the given readability criteria.
</p>

<p>
There are more efficient algorithms to accomplish prime number detection
than the algorithm used in the code.
However, this is not a readability issue,
so improving the prime detection algorithm is not required for this assignment.
However, you can do this if you want to,
just make sure the resulting code satisfies the readability criteria.
</p>

<p>
For your convenience, the readability criteria
in the course syllabus are repeated in the following table.
</p>

<table class="table">
  <caption>Readability Criteria for Source Code</caption>
  <thead>
    <tr>
      <th>Criterion</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Cleanliness</td>
      <td>Have unnecessary variables and logic been removed from the code?</td>
    </tr>
    <tr>
      <td>Logical indentation</td>
      <td>Does indentation show logical structure?</td>
    </tr>
    <tr>
      <td>Consistent indentation</td>
      <td>Does indentation follow a consistent policy?</td>
    </tr>
    <tr>
    <tr>
      <td>Portable indentation*</td>
      <td>Are tabs omitted?</td>
    </tr>
    <tr>
      <td>Logical spacing</td>
      <td>Does spacing show logical structure?</td>
    </tr>
    <tr>
      <td>Consistent spacing</td>
      <td>Does spacing follow a consistent policy?</td>
    </tr>
    <tr>
      <td>Separation of concerns</td>
      <td>Are concerns separated when possible?</td>
    </tr>
    <tr>
      <td>Responsibilities</td>
      <td>Are responsibilities of functions and classes clear 
          and consistent with their names?</td>
    </tr>
    <tr>
      <td>Expressive and clear naming</td>
      <td>Do variables, functions and classes have names 
          that clearly express their purpose in the program?</td>
    </tr>
    <tr>
      <td>Necessary comments</td>
      <td>Are comments included when needed?</td>
    </tr>
    <tr>
      <td>Unnecessary comments</td>
      <td>Are superfluous comments omitted?</td>
    </tr>
    <tr>
      <td>Spelling</td>
      <td>Are user-defined identifiers free of spelling errors?
          Are comments and other documentation free of spelling and grammatical errors?</td>
    </tr>
    <tr>
      <td>Nonredundant</td>
      <td>When 2 or more places inside a program need to perform the same activity,
          is that activity defined as a function and called as such from where it is needed?</td>
    </tr>
    <tr>
      <td>Robust to changes</td>
      <td>Does the code avoid breakage problems when modified. 
          For example, the following code is not robust to changes.
          <pre>
            var s = 'hello';
            print 'The length of the string is ' + 5;</pre>
          It should be written as follows.
          <pre>
            var s = 'hello';
            print "The length of the string is " + s.length;</pre>
      </td>
    </tr>
    <tr>
      <td>Organization</td>
      <td>Is source code well organized into files and folders?</td>
    </tr>
  </tbody>
</table>

<p class="csusbdt-callout">
  *Don't use tabs for indentation in your source code in this course.
  Tabs display differently in different viewing and editing tools.
  In general, tabs will degrade readability for some people who read your code,
  especially if you mix tabs with spaces.
  If you want full score on your assignments in this course, you should not use tabs.
  If you are in the habit of pressing tab in your editor
  and want to continue working this way,
  look for an option in your editor to replace tabs with spaces.
</p>

<p>
The given code violates the following criteria.
Make sure you locate and fix each of these violations.

<ul>
  <li>Cleanliness (There is unneccessary code.)</li>
  <li>Logical indentation (A line does not use indentation to show its dependency on a conditional.)</li>
  <li>Consistent indentation (Lines at the same logical level are indented with different number of spaces.)</li>
  <li>Portable indentation (There are tabs.)</li>
  <li>Logical spacing (In one place, spaces and absense of spaces suggest incorrect order of operations.)</li>
  <li>Consistent spacing (Spacing between operands and operators is not consistent.)</li>
  <li>Separation of concerns (Two concerns are mixed up unnecessarily.)</li>
  <li>Responsibilities (A function does more than it should; this will be fixed when you fix the separation of concerns problem.)</li>
  <li>Expressive and clear naming (An identifier uses words that are inconsistent with its use in the program.)</li>
  <li>Unnecessary comments (There are unnecessary comments.)</li>
  <li>Spelling (There is a spelling error.)</li>
</ul>

<h2>How Many Spaces Should I Use for Indentation?</h2>

<p>
The most common indentation for Javascript is 2 spaces.
People working on other languages tend to use more than 2 spaces.
<p>

<p>
The reason for 2 spaces in Javascript is that Javascript programs 
include more indents than programs written in other languages.
This is due to the use of anonymous functions and other reasons.
When there are so many indents, 
too much of the code gets shifted too far to the right.
</p>

<p>
Excessive indents is also a problem with HTML.
</p>

<p>
In this course, you can use any number of spaces for indents
as long as you are consistent with each assignment.
For example, if you use 4 spaces in an assignment, 
then use 4 spaces for every indent in that assignment.
You can vary number of spaces between assignments.
</p>

